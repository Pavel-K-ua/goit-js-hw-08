{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,mBAG/B,IAAIC,EAAM,GAEVJ,EAAKC,KAAKI,iBAAiB,QAASC,EAAAC,GAAEC,UAEtC,SAAqBC,GACnB,MAAMC,EAAQD,EAAME,OAAOD,MACrBE,EAAMH,EAAME,OAAOE,KACzBT,EAAIQ,GAAOF,EACXZ,EAAAgB,QAAOC,KAAK,sBAAuBX,E,GANuB,MAS5D,WACE,MAAMY,EAAWlB,EAAAgB,QAAOG,KAAK,wBAA0B,GACvDb,EAAMY,EACNhB,EAAKC,KAAKiB,SAASC,MAAMT,MAAQM,GAAUG,OAAS,GACpDnB,EAAKC,KAAKiB,SAASE,QAAQV,MAAQM,GAAUI,SAAW,E,CAE1DC,GAEArB,EAAKC,KAAKI,iBAAiB,UAG3B,SAAsBI,GAEpB,GADAA,EAAMa,kBACFtB,EAAKC,KAAKiB,SAASC,MAAMT,QAAWV,EAAKC,KAAKiB,SAASE,QAAQV,MAAQ,OAC3Ea,QAAQC,IAAIpB,GACZA,EAAM,GACNK,EAAME,OAAOc,QACbC,aAAaC,WAAW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import helper from './helper.js';\nimport _ from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet obj = {};\n\nrefs.form.addEventListener('input', _.throttle(onFormInput, 500));\n\nfunction onFormInput(event) {\n  const value = event.target.value;\n  const key = event.target.name;\n  obj[key] = value;\n  helper.save('feedback-form-state', obj);\n};\n\nfunction onPageLoad() {\n  const loadData = helper.load('feedback-form-state') || {};\n  obj = loadData;\n  refs.form.elements.email.value = loadData?.email || '';\n  refs.form.elements.message.value = loadData?.message || '';\n};\nonPageLoad();\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if(!refs.form.elements.email.value  || !refs.form.elements.message.value ) return\n  console.log(obj);\n  obj = {};\n  event.target.reset();\n  localStorage.removeItem('feedback-form-state');\n};\n\n"],"names":["$k6Lsx","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","$945622fd0f572e60$var$obj","addEventListener","$parcel$interopDefault","$kEUo3","throttle","event","value","target","key","name","default","save","loadData","load","elements","email","message","$945622fd0f572e60$var$onPageLoad","preventDefault","console","log","reset","localStorage","removeItem"],"version":3,"file":"03-feedback.05ea90bb.js.map"}